<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ’– For Upasana</title>
<style>
  * { box-sizing: border-box; }
  body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg, #ffb6c1, #ffd1dc);
    font-family: "Poppins", sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }

  /* CARD */
  .card {
    background: white;
    padding: 40px 30px;
    border-radius: 30px;
    text-align: center;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 25px 50px rgba(0,0,0,0.2);
    position: relative;
    z-index: 10;
  }

  h2 { margin-bottom: 30px; color: #333; line-height: 1.4; }

  /* BUTTONS */
  .buttons { display: flex; gap: 20px; justify-content: center; }

  button {
    padding: 15px 30px;
    border-radius: 50px;
    border: none;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    background: #eeeeee; /* Default Gray */
    color: #333;
    transition: all 0.3s ease;
  }

  /* This class is added ONLY after clicking YES */
  .highlight-red {
    background: #e11d48 !important;
    color: white !important;
    box-shadow: 0 0 20px rgba(225, 29, 72, 0.5);
    transform: scale(1.1);
  }

  #muteBtn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    font-size: 20px;
    display: none;
  }

  #msg { margin-top: 25px; font-weight: 600; color: #e11d48; min-height: 40px; }

  #reset {
    margin-top: 20px;
    background: #333;
    color: white;
    display: none;
  }

  /* HEARTS */
  .heart {
    position: absolute;
    bottom: -30px;
    font-size: 22px;
    animation: floatUp linear infinite;
  }
  @keyframes floatUp {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(-110vh); opacity: 0; }
  }
</style>
</head>
<body>

<div class="card">
  <button id="muteBtn">ðŸ”Š</button>
  <h2 id="heading">Will you be my Valentine,<br>Upasana? ðŸ’˜</h2>
  
  <div class="buttons">
    <button id="yes">YES ðŸ’–</button>
    <button id="no">NO ðŸ’”</button>
  </div>

  <p id="msg"></p>
  <button id="reset">ðŸ”„ Reset</button>
</div>

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<script>
  const yesBtn = document.getElementById('yes');
  const noBtn = document.getElementById('no');
  const msg = document.getElementById('msg');
  const resetBtn = document.getElementById('reset');
  const muteBtn = document.getElementById('muteBtn');
  const music = document.getElementById('bgMusic');
  const heading = document.getElementById('heading');

  const noReplies = [
    "Socha bhi kaise? ðŸ˜œ",
    "Wrong button! Try again ðŸ˜",
    "Oops! No is not allowed ðŸ˜…",
    "Are you sure? ðŸ’•",
    "Click the Red one! ðŸ˜„"
  ];

  // Floating Hearts
  function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerText = "â¤ï¸";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (Math.random() * 3 + 3) + "s";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
  }
  setInterval(createHeart, 500);

  // NO Button Moves away
  noBtn.addEventListener("mouseover", () => {
    const x = Math.random() * 160 - 80;
    const y = Math.random() * 80 - 40;
    noBtn.style.transform = `translate(${x}px, ${y}px)`;
  });

  // NO Button Click
  noBtn.addEventListener("click", () => {
    msg.innerText = noReplies[Math.floor(Math.random() * noReplies.length)];
    resetBtn.style.display = "inline-block";
  });

  // YES Button Click
  yesBtn.addEventListener("click", () => {
    // 1. Play Music
    music.play().catch(() => console.log("User interaction required"));
    
    // 2. Highlight Red only now
    yesBtn.classList.add("highlight-red");
    
    // 3. UI Changes
    muteBtn.style.display = "block";
    noBtn.style.display = "none";
    heading.innerText = "I Knew It! â¤ï¸";
    msg.innerHTML = "I Love You, Upasana! ðŸ‘©â€â¤ï¸â€ðŸ‘¨";
    resetBtn.style.display = "inline-block";
  });

  // Mute Toggle
  muteBtn.addEventListener("click", () => {
    music.muted = !music.muted;
    muteBtn.innerText = music.muted ? "ðŸ”‡" : "ðŸ”Š";
  });

  // Reset Everything
  resetBtn.addEventListener("click", () => {
    music.pause();
    music.currentTime = 0;
    yesBtn.classList.remove("highlight-red");
    noBtn.style.display = "inline-block";
    noBtn.style.transform = "translate(0,0)";
    msg.innerText = "";
    heading.innerHTML = "Will you be my Valentine,<br>Upasana? ðŸ’˜";
    resetBtn.style.display = "none";
    muteBtn.style.display = "none";
  });
</script>

</body>
</html>
